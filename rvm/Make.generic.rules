#
# (C) Copyright IBM Corp. 2001, 2003
#
# $Id$
#
# @author Julian Dolby
# @modified Steven Augart

# 
# rules, etc in this file should be site independent
#

# On AIX, where /bin/sh is a link to /bin/ksh, it is useful to have SHELL 
# set to /bin/bash. This is because, on AIX under ksh, "echo -n <message>" 
# emits the text "-n <message><NEWLINE>".   The Bash behavior, even when
# invoked as "sh", is to emit "<message>", without a trailing <NEWLINE>.
# 
# This used to be handled by using SHELL=/bin/ksh and using "print" instead 
# of "echo".  
SHELL=/bin/bash

# Java compiler.
HOST_JAVAC = $(HOST_JIKES) +E -g
HOST_JAVAC_CLASSPATH = -classpath $(HOST_REPOSITORIES):.:

# This is the name to use to compile "normal" (non-RVM) java files.
JCOMPILE = $(HOST_JAVAC) $(HOST_JAVAC_CLASSPATH)

# Java compiler to use to compile RVM .java files.
# Makefiles redefine JCOMPILE=$(JCOMPILE_RVM) when they need to do this.
JCOMPILE_RVM =$(RVM_BUILD)/jbuild.tool

# used by Makefiles in examples subdirectory in sanity rules
JBOOT ?= rvm

RM=rm -f
CP=cp -f

.SUFFIXES:	.java .class

.PRECIOUS:	%.class

# Produce a class file from a java source file
#
.java.class:;   $(JCOMPILE) $<


