This section describes how to run a Jikes\trademark RVM  image built
from the previous section. 

%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Running \jrvm}

\index{jikes}
\index{rvm script}
Jikes\trademark\ RVM executes bytecodes from {\tt .class} files. It does {\em
not} compile 
Java\trademark\ source code. Therefore, all files 
required by your program must have already been compiled into bytecode
files by a Java compiler.  We recommend you use the IBM Jikes
compiler. 

For example, to run class {\tt foo} with source code in file {\tt foo.java}:
\begin{verbatim}
% jikes foo.java
% rvm foo 
\end{verbatim}

The general syntax is
\begin{verbatim}
rvm [rvm options] class [args]
\end{verbatim}

\index{command-line options}
You may choose from myriad options for the {\tt rvm} command-line.  
Options fall into two categories: {\em standard} and {\em
non-standard}.  Non-standard options are preceded by {\bf ``{\tt -X:}''}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Standard Command-Line Options}

We currently support a subset of the JDK 1.3 standard options.  Below
is a list of all options and their descriptions.  Unless otherwise noted each
option is supported in Jikes RVM.
\begin{description}
\item[{\tt -cp -classpath <directories and zip/jar files separated by :>}]
set search path for application classes and resources

\item[{\tt -D<name>=<value>}] set a system property

\item[{\tt -verbose[:class|:gc|:jni]}]
enable verbose output

\item[{\tt -version}] print current VM version and terminate

\item[{\tt -showversion}] print current VM version and continue

\item[{\tt -fullversion}] like version but with more information

\item[{\tt -?} or {\tt -help}] print help message

\item[{\tt -X}] print help on non-standard options

\item[{\tt -jar}] not supported

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Non-standard Command-Line Options}

The non-standard options are

\begin{description}
\item [{\tt -X}]
print usage on nonstandard options

\item[{\tt -X:verbose}]
print out additional information for GC and hardware trap handling

\item[{\tt -X:h=<number>}]
allocate {\tt <number>} megabytes of small object heap

\item[{\tt -Xmx<number>}]
allocate {\tt <number>} megabytes of small object heap

\item[{\tt -X:lh=<number>}]
allocate {\tt <number>} megabytes of large object heap

\item[{\tt -X:nh=<number>}]
allocate {\tt <number>} megabytes of nursery object heap 

\item[{\tt -X:ph=<number>}]
allocate {\tt <number>} megabytes of permanent object heap 

\item[{\tt -X:sysLogfile=<filename>}]
writes standard error message to {\tt <filename>}

\item[{\tt -X:i=<filename>}]
read boot image from {\tt <filename>}

\item[{\tt -X:traceClassLoading}]
produce a report on class loading activity. More details than 
{\tt -verbose:class}. 

\item[{\tt -X:gc[:help]}]
print options supported by memory management system

\item[{\tt -X:aos:<option>}]
pass {\tt <option>} to the memory management system

\item[{\tt -X:aos[:help]}]
print options supported by adaptive optimization system when in an
adaptive configuration

\item[{\tt -X:aos:<option>}]
pass {\tt <option>} to the adaptive optimization system when in an adaptive configuration

\item[{\tt -X:irc[:help]}]
print options supported by the initial runtime compiler when in a non-adaptive
configuration 

\item[{\tt -X:irc:<option>}]
pass {\tt <option>} to the initial runtime compiler when in a non-adaptive configuration 

\item[{\tt -X:base[:help]}]
print options supported by the baseline compiler when in a 
non-adaptive configuration

\item[{\tt -X:base:<option>}]
pass {\tt <option>} to the baseline compiler when in a non-adaptive configuration

\item[{\tt -X:opt[:help]}]
print options supported by the optimizing compiler when in a 
non-adaptive configuration

\item[{\tt -X:opt:<option>}]
pass {\tt <option>} to the optimizing compiler when in a non-adaptive configuration

\item[{\tt -X:prof:<option>}]
pass {\tt <option>} to the profiling subsystem

\item[{\tt -X:vmClasses=<filename>}]
load classes from {\tt <filename>}

\item[{\tt -X:cpuAffinity=<int>}]
physical cpu to which first virtual processor is bound

\item[{\tt -X:processors=<int|``all''>}]
number of processors to use on a multiprocessor

\item[{\tt -X:measureCompilation=<boolean>}]
produce a report on compilation time

\item[{\tt -X:measureClassLoading=<int>}]
produce a report on class loading time (1 dump at end of run, 2 dump
at every load).

\item[{\tt -X:verify=<boolean>}] verify bytecodes
\end{description}

See Appendix~\ref{appendix:nonadaptive:cmdline} for more details on 
command-line options, including the list of options supported by the 
baseline compiler, optimizing compiler, and adaptive optimization system.

\JikesTMFooter

\JavaTMFooter

\subsection{Regression Tests}
\input{regression}
